## Пакетная расшифровка речи в текст

**Вход**: аудио/видео-файл

**Выход**: текст + текст с таймкодами

### Зависимости

- [Python](https://python.org) 3.10+
- Библиотека [Whisper](https://github.com/openai/whisper)
- Скомпилированный [FFMPEG](https://ffmpeg.org/download.html) + путь к нему в переменной окружения path
- Желательно GPU, но на CPU тоже работает (медленно)

### Подготовка

1. Установите упомянутые выше зависимости.
2. Задайте параметры распознавания в начале скрипта.
   - `audio_folder` - папка с аудио/видео-файлами для распознавания в текст. Будут обратываться файлы с расширениями, заданными в переменной `audio_exts`
   - `whisper_model` - размер модели, от которого зависит скоость и качество распознавания. Подробности о моделях есть в [readme](https://github.com/openai/whisper#available-models-and-languages) Whisper. По умолчанию используется быстрая и качественная модель `turbo`
   - `text_language` - код языка для распознавания. Поддерживаются все популярные языки, включая русский

### Использование

1. Запустите batch-speech-to-text.bat. Если все зависимости установлены, загрузится модель (только при первом запуске) и начнется распознавание найденных в указанной папке файлов.
2. По ходу работы программы отображаются фрагменты распознанного текста.
3. По завершении работы программы рядом с исходным файлом появятся два текстовых файла:
   - filename.txt - распознанный текст, по одному предложению в строке.
   - filename_timecode.txt - распознанный текст с таймкодами, по ~3-5 секунд в строке.
